<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>UCreate by nicbell</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">UCreate</h1>
      <h2 class="project-tagline">Create strongly typed views and generate DocTypes, DataTypes and MediaTypes for Umbraco 7 using a code-first approach.</h2>
      <a href="https://github.com/nicbell/ucreate" class="btn">View on GitHub</a>
      <a href="https://github.com/nicbell/ucreate/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/nicbell/ucreate/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="ucreate-" class="anchor" href="#ucreate-" aria-hidden="true"><span class="octicon octicon-link"></span></a>UCreate <a href="https://ci.appveyor.com/project/nicbell/ucreate"><img src="https://ci.appveyor.com/api/projects/status/60v4v2cbl6nxmf0q" alt="Build status"></a>
</h1>

<p>Create doc types, media types, data types, member types and member groups for Umbraco 7 using a code-first approach. Inspired by <a href="https://github.com/spopovic/uSiteBuilder">USiteBuilder</a>.</p>

<h2>
<a id="available-on-nuget" class="anchor" href="#available-on-nuget" aria-hidden="true"><span class="octicon octicon-link"></span></a>Available on NuGet</h2>

<pre><code>PM&gt; Install-Package UCreate
</code></pre>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>The only configuration you'll need to get started is an app setting in your <code>web.config</code>. This tells UCreate to sync your doc types, media types, data types, member types and member groups on application start.</p>

<div class="highlight highlight-xml"><pre>...
&lt;<span class="pl-ent">appSettings</span>&gt;
    ...
    &lt;<span class="pl-ent">add</span> <span class="pl-e">key</span>=<span class="pl-s"><span class="pl-pds">"</span>UCreateSyncEnabled<span class="pl-pds">"</span></span> <span class="pl-e">value</span>=<span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span> /&gt;
    ...
&lt;/<span class="pl-ent">appSettings</span>&gt;
...</pre></div>

<h2>
<a id="doctype-example" class="anchor" href="#doctype-example" aria-hidden="true"><span class="octicon octicon-link"></span></a>DocType example</h2>

<p>Doc types support property inheritance. Here is a list of available <a href="http://nicbell.github.io/ucreate/icons.html">icons</a>.</p>

<div class="highlight highlight-csharp"><pre>[DocType(Name = <span class="pl-s"><span class="pl-pds">"</span>Page With Title<span class="pl-pds">"</span></span>,
    Icon = <span class="pl-s"><span class="pl-pds">"</span>icon-zip color-blue<span class="pl-pds">"</span></span>,
    AllowedAsRoot = <span class="pl-c1">true</span>,
    AllowedTemplates = <span class="pl-k">new</span>[] { <span class="pl-s"><span class="pl-pds">"</span>PageWithTitle<span class="pl-pds">"</span></span> },
    DefaultTemplate = <span class="pl-s"><span class="pl-pds">"</span>PageWithTitle<span class="pl-pds">"</span></span>)]
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">PageWithTitle</span> : <span class="pl-k">BaseDocType</span>
{
    <span class="pl-k">public</span> <span class="pl-en">PageWithTitle</span>(<span class="pl-k">IPublishedContent</span> <span class="pl-smi">content</span>) : <span class="pl-c1">base</span>(content)
    { }

    [Property(Alias = <span class="pl-s"><span class="pl-pds">"</span>heading<span class="pl-pds">"</span></span>, TypeName = PropertyTypes.Textstring, Description = <span class="pl-s"><span class="pl-pds">"</span>Heading for page<span class="pl-pds">"</span></span>, Mandatory = <span class="pl-c1">true</span>, TabName = <span class="pl-s"><span class="pl-pds">"</span>Content<span class="pl-pds">"</span></span>)]
    <span class="pl-k">public</span> <span class="pl-k">string</span> <span class="pl-en">Heading</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }
}</pre></div>

<h2>
<a id="mediatype-example" class="anchor" href="#mediatype-example" aria-hidden="true"><span class="octicon octicon-link"></span></a>MediaType example</h2>

<p>Media types support property inheritance.</p>

<div class="highlight highlight-csharp"><pre>[MediaType(Name = <span class="pl-s"><span class="pl-pds">"</span>Folder With Cover<span class="pl-pds">"</span></span>,
    Icon = <span class="pl-s"><span class="pl-pds">"</span>icon-folder color-blue<span class="pl-pds">"</span></span>,
    AllowedAsRoot = <span class="pl-c1">true</span>,
    IsContainer = <span class="pl-c1">true</span>,
    AllowedTypes = <span class="pl-k">new</span>[] { <span class="pl-s"><span class="pl-pds">"</span>FolderWithCover<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Image<span class="pl-pds">"</span></span> })]
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">FolderWithCover</span>
{
    [Property(Alias = <span class="pl-s"><span class="pl-pds">"</span>coverImage<span class="pl-pds">"</span></span>, TypeName = PropertyTypes.MediaPicker, Description = <span class="pl-s"><span class="pl-pds">"</span>Cover image.<span class="pl-pds">"</span></span>, Mandatory = <span class="pl-c1">true</span>)]
    <span class="pl-k">public</span> <span class="pl-k">string</span> <span class="pl-en">CoverImage</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }
}</pre></div>

<h2>
<a id="datatype-with-prevalues-example" class="anchor" href="#datatype-with-prevalues-example" aria-hidden="true"><span class="octicon octicon-link"></span></a>DataType with prevalues example</h2>

<div class="highlight highlight-csharp"><pre>[DataType(EditorAlias = Umbraco.Core.Constants.PropertyEditors.ColorPickerAlias,
    Name = <span class="pl-s"><span class="pl-pds">"</span>Nice Color Picker<span class="pl-pds">"</span></span>,
    Key = <span class="pl-s"><span class="pl-pds">"</span>1bfca1e7-95d0-485e-bd94-9fe9c2b8821f<span class="pl-pds">"</span></span>,
    DBType = DataTypeDatabaseType.Nvarchar)]
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">NiceColorPicker</span> : <span class="pl-k">IHasPreValues</span>
{
    <span class="pl-c">/// &lt;<span class="pl-ent">summary</span>&gt;</span>
    <span class="pl-c">/// Implementing PreValues</span>
    <span class="pl-c">/// &lt;/<span class="pl-ent">summary</span>&gt;</span>
    <span class="pl-k">public</span> IDictionary&lt;<span class="pl-k">string</span>, PreValue&gt; PreValues
    {
        <span class="pl-k">get</span>
        {
            <span class="pl-k">return</span> <span class="pl-k">new</span> Dictionary&lt;<span class="pl-k">string</span>, PreValue&gt; {
                {<span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>, <span class="pl-k">new</span> PreValue(<span class="pl-s"><span class="pl-pds">"</span>ff00ff<span class="pl-pds">"</span></span>)},
                {<span class="pl-s"><span class="pl-pds">"</span>2<span class="pl-pds">"</span></span>, <span class="pl-k">new</span> PreValue(<span class="pl-s"><span class="pl-pds">"</span>1f00f1<span class="pl-pds">"</span></span>)},
                {<span class="pl-s"><span class="pl-pds">"</span>3<span class="pl-pds">"</span></span>, <span class="pl-k">new</span> PreValue(<span class="pl-s"><span class="pl-pds">"</span>123123<span class="pl-pds">"</span></span>)},
                {<span class="pl-s"><span class="pl-pds">"</span>4<span class="pl-pds">"</span></span>, <span class="pl-k">new</span> PreValue(<span class="pl-s"><span class="pl-pds">"</span>ffffff<span class="pl-pds">"</span></span>)}
            };
        }
    }
}</pre></div>

<h2>
<a id="membertype-example" class="anchor" href="#membertype-example" aria-hidden="true"><span class="octicon octicon-link"></span></a>MemberType example</h2>

<div class="highlight highlight-csharp"><pre>[MemberType(Name = <span class="pl-s"><span class="pl-pds">"</span>Employee<span class="pl-pds">"</span></span>, Description = <span class="pl-s"><span class="pl-pds">"</span>Member who represents an employee<span class="pl-pds">"</span></span>, Icon = <span class="pl-s"><span class="pl-pds">"</span>icon-user color-green<span class="pl-pds">"</span></span>)]
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Employee</span>
{
    [MemberProperty(Alias = <span class="pl-s"><span class="pl-pds">"</span>jobTitle<span class="pl-pds">"</span></span>, TypeName = PropertyTypes.Textstring, Description = <span class="pl-s"><span class="pl-pds">"</span>Employee's job title<span class="pl-pds">"</span></span>, Mandatory = <span class="pl-c1">true</span>, TabName = <span class="pl-s"><span class="pl-pds">"</span>Job Details<span class="pl-pds">"</span></span>, CanEdit = <span class="pl-c1">true</span>, ShowOnProfile = <span class="pl-c1">true</span>)]
    <span class="pl-k">public</span> <span class="pl-k">string</span> <span class="pl-en">JobTitle</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }

    [MemberProperty(Alias = <span class="pl-s"><span class="pl-pds">"</span>jobDescription<span class="pl-pds">"</span></span>, TypeName = PropertyTypes.Textboxmultiple, Description = <span class="pl-s"><span class="pl-pds">"</span>Employee's job description<span class="pl-pds">"</span></span>, Mandatory = <span class="pl-c1">false</span>, TabName = <span class="pl-s"><span class="pl-pds">"</span>Job Details<span class="pl-pds">"</span></span>, CanEdit = <span class="pl-c1">true</span>, ShowOnProfile = <span class="pl-c1">false</span>)]
    <span class="pl-k">public</span> <span class="pl-k">string</span> <span class="pl-en">JobDescription</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }

    [MemberProperty(Alias = <span class="pl-s"><span class="pl-pds">"</span>profilePicture<span class="pl-pds">"</span></span>, TypeName = PropertyTypes.MediaPicker, Description = <span class="pl-s"><span class="pl-pds">"</span>Admin profile picture<span class="pl-pds">"</span></span>, Mandatory = <span class="pl-c1">false</span>, CanEdit = <span class="pl-c1">true</span>, ShowOnProfile = <span class="pl-c1">true</span>)]
    <span class="pl-k">public</span> <span class="pl-k">string</span> <span class="pl-en">ProfilePicture</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }
}</pre></div>

<h2>
<a id="membergroup-example" class="anchor" href="#membergroup-example" aria-hidden="true"><span class="octicon octicon-link"></span></a>MemberGroup example</h2>

<div class="highlight highlight-csharp"><pre>[MemberGroup(Name = <span class="pl-s"><span class="pl-pds">"</span>Staff<span class="pl-pds">"</span></span>)]
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Staff</span>
{
}</pre></div>

<h2>
<a id="strongly-typed-views" class="anchor" href="#strongly-typed-views" aria-hidden="true"><span class="octicon octicon-link"></span></a>Strongly typed views</h2>

<p>In order to use your doc types on the front-end you need to enable the <code>PublishedContentModel</code> factory. UCreate can do this for you if add the following app setting:</p>

<div class="highlight highlight-xml"><pre>...
&lt;<span class="pl-ent">appSettings</span>&gt;
    ...
    &lt;<span class="pl-ent">add</span> <span class="pl-e">key</span>=<span class="pl-s"><span class="pl-pds">"</span>UCreatePublishedModelsEnabled<span class="pl-pds">"</span></span> <span class="pl-e">value</span>=<span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span> /&gt;
    ...
&lt;/<span class="pl-ent">appSettings</span>&gt;
...</pre></div>

<p>Then using the doc types in your views is pretty simple.</p>

<div class="highlight highlight-html"><pre>@inherits Umbraco.Web.Mvc.UmbracoTemplatePage&lt;<span class="pl-ent">NicBell</span>.<span class="pl-e">UCreate</span>.<span class="pl-e">Test</span>.<span class="pl-e">DocTypes</span>.<span class="pl-e">PageWithTitle</span>&gt;

@{
    Layout = null;
}

&lt;!DOCTYPE html&gt;
&lt;<span class="pl-ent">html</span>&gt;
&lt;<span class="pl-ent">head</span>&gt;
    &lt;<span class="pl-ent">meta</span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>viewport<span class="pl-pds">"</span></span> <span class="pl-e">content</span>=<span class="pl-s"><span class="pl-pds">"</span>width=device-width<span class="pl-pds">"</span></span> /&gt;
    &lt;<span class="pl-ent">title</span>&gt;PageWithTitle&lt;/<span class="pl-ent">title</span>&gt;
&lt;/<span class="pl-ent">head</span>&gt;
&lt;<span class="pl-ent">body</span>&gt;
    &lt;<span class="pl-ent">h1</span>&gt;@Model.Content.Heading&lt;/<span class="pl-ent">h1</span>&gt;
&lt;/<span class="pl-ent">body</span>&gt;
&lt;/<span class="pl-ent">html</span>&gt;</pre></div>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/nicbell/ucreate">UCreate</a> is maintained by <a href="https://github.com/nicbell">nicbell</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

